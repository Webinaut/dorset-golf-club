---
import { Image } from "astro:assets";
import gallery0 from "../images/2025/sue and john.jpg";
import gallery1 from "../images/2025/2025 Club Champions Jo (A grade) Jenny ( A grade Nett) Lyn B grade.jpg";
import gallery2 from "../images/2025/2025 HIO Kathy.jpg";
import gallery3 from "../images/2025/2025 Ladies Champion Jo Stack.jpg";
import gallery4 from "../images/2025/2025 Ladies Foursomes Champions Jenny & Dee Nett Di & Ilse.jpg";
import gallery5 from "../images/2025/2025 Lady Captains Trophy Leah & Sharon.jpg";
import gallery6 from "../images/2025/2025 Lady Presidents Trophy Denise & Pim.jpg";
import gallery7 from "../images/2025/2025 Mixed Foursomes Nett Champs Phil & Mon.jpg";
import gallery8 from "../images/2025/2025 Pairs Matchplay Champions Leah & Denise.jpg";
import gallery9 from "../images/2025/2025 Partners Challenge Leah  & Barb.jpg";
// import Swiper and modules styles
import "swiper/scss";
import "swiper/scss/navigation";
import "swiper/scss/pagination";
import "../styles/my-swiper-styles.scss";

// Define the gallery images with their metadata
const galleryImages = [
  {
    src: gallery0,
    alt: "Sue & John - Ron Reilly trophy",
    caption: "Sue & John - Ron Reilly trophy",
    width: 800,
    height: 600,
  },
  {
    src: gallery1,
    alt: "Jo Stack - Ladies Club Champion, Jenny Park - Ladies Nett Champion, Lyn Craven - Ladies B Grade Champion",
    caption:
      "Jo Stack - Ladies Club Champion, Jenny Park - Ladies Nett Champion, Lyn Craven - Ladies B Grade Champion",
    width: 800,
    height: 600,
  },
  {
    src: gallery2,
    alt: "Kathy - Hole in One",
    caption: "Kathy - Hole in One",
    width: 800,
    height: 600,
  },
  {
    src: gallery3,
    alt: "Jo Stack - Ladies Club Champion",
    caption: "Jo Stack - Ladies Club Champion",
    width: 800,
    height: 600,
  },
  {
    src: gallery4,
    alt: "Jenny & Dee - Ladies Foursomes Champions",
    caption: "Jenny & Dee - Ladies Foursomes Champions",
    width: 800,
    height: 600,
  },
  {
    src: gallery5,
    alt: "Leah & Sharon - Lady Captains Trophy",
    caption: "Leah & Sharon - Lady Captains Trophy",
    width: 800,
    height: 600,
  },
  {
    src: gallery6,
    alt: "Denise & Pim - Lady Presidents Trophy",
    caption: "Denise & Pim - Lady Presidents Trophy",
    width: 800,
    height: 600,
  },
  {
    src: gallery7,
    alt: "Phil & Monica - Mixed Foursomes Nett Champions",
    caption: "Phil & Monica - Mixed Foursomes Nett Champions",
    width: 800,
    height: 600,
  },
  {
    src: gallery8,
    alt: "Leah & Denise - Matchplay Champions",
    caption: "Leah & Denise - Matchplay Champions",
    width: 800,
    height: 600,
  },
  {
    src: gallery9,
    alt: "Leah & Barb - Partners Challenge",
    caption: "Leah & Barb - Partners Challenge",
    width: 800,
    height: 600,
  },
];
---

<!-- <article style="text-align: center">Gallery goes here</article> -->
<div class="gallery-container">
  <div class="gallery">
    {
      galleryImages.map((image) => (
        <figure class="gallery-2025-item">
          <Image
            src={image.src}
            alt={image.alt}
            width={image.width}
            height={image.height}
            class="gallery-image-2025"
          />
          <figcaption>{image.caption}</figcaption>
        </figure>
      ))
    }
  </div>
</div>

<!-- Swiper Modal -->
<dialog id="modal2025" onclick="Event.target === this && this.close()">
  <article>
    <a
      href="#"
      rel="prev"
      class="close2025"
      onclick="this.closest('dialog').close()"
    >
    </a>
    <section>
      <div class="swiper swiper2025">
        <div class="swiper-wrapper">
          {
            galleryImages.map((image) => (
              <div class="swiper-slide">
                <Image src={image.src} alt="" loading="lazy" />
                <p class="caption">{image.caption}</p>
              </div>
            ))
          }
        </div>
        <!-- If we need pagination -->
        <div class="swiper-pagination swiper-pagination-2025"></div>
        <!-- If we need navigation buttons -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </section>
  </article>
</dialog>
<style lang="scss">
  .gallery-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
  }

  h1 {
    text-align: center;
    margin-bottom: 2rem;
    color: #333;
  }

  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .gallery-2025-item {
    margin: 0;
    position: relative;
    overflow: hidden;
    border-radius: var(--pico-border-radius);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    padding: 0.25em;
    transition: transform 0.3s ease;
  }

  .gallery-2025-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
    cursor: pointer;
  }

  .gallery-image-2025 {
    width: 100%;
    height: auto;
    object-fit: contain;
    aspect-ratio: 4/3;
  }

  figcaption {
    padding: 1rem;
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    text-align: center;
    font-size: 0.9rem;
  }

  @media (max-width: 768px) {
    .gallery {
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
    }

    .gallery-container {
      padding: 1rem;
    }
  }
  .swiper-slide img {
    width: 100%;
    height: 72vh;
    object-fit: contain;
  }
  .caption {
    text-align: center;
    padding-bottom: 1em;
  }

  .swiper-button-next,
  .swiper-button-prev {
    color: var(--pico-primary);
  }
  /* Modal */
  /* prevent scroll when dialog is open */
  body:has(dialog[open]) {
    overflow: hidden;
  }

  dialog:not([open]) {
    display: grid;
    opacity: 0;
    pointer-events: none;
    visibility: hidden;
    transition: all var(--pico-transition) allow-discrete;
  }

  dialog[open] {
    display: grid;
    visibility: visible;
    opacity: 1;
    transition: opacity var(--pico-transition);
  }

  dialog article {
    margin: auto;
    padding: 1em;
    max-width: 90vw;
    max-height: unset;
    overflow: unset;
    transform: scale(0.5);
    transition: transform var(--pico-transition);
  }
  dialog article section {
    margin-bottom: 0;
  }
  dialog[open] article {
    transform: scale(1);
  }
  .close2025 {
    margin-top: calc(var(--pico-spacing) * -0.5);
    width: 2rem;
    height: 2rem;
    background-size: auto 2rem;
  }
</style>

<script>
  // core version + navigation, pagination modules:
  import Swiper from "swiper";
  import { Navigation, Pagination } from "swiper/modules";

  // init Swiper:
  const swiper2025 = new Swiper(".swiper2025", {
    // configure Swiper to use modules
    modules: [Navigation, Pagination],

    // Optional parameters
    direction: "horizontal",
    // loop: true,
    slidesPerView: 1,
    spaceBetween: 10,
    centeredSlides: true,
    grabCursor: true,

    // If we need pagination
    pagination: {
      el: ".swiper-pagination-2025",
      type: "bullets",
    },

    // Navigation arrows
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
  });

  const images = document.querySelectorAll("img.gallery-image-2025");
  const dialog = document.getElementById("modal2025");
  (dialog as HTMLDialogElement).inert = true;
  images.forEach(function (imag, index) {
    imag.addEventListener("click", () => {
      (dialog as HTMLDialogElement).showModal();
      (dialog as HTMLDialogElement).inert = false;
      swiper2025.slideTo(index);
    });
  });
  (dialog as HTMLDialogElement).addEventListener("close2025", function () {
    swiper2025.slideTo(1);
  });
</script>
